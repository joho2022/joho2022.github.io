---
layout: default
title: "ì¸ì½”ë”©, ë””ì½”ë”©"
tags: TIL
---

## Data í˜•

ë©”ëª¨ë¦¬ ì•ˆì˜ ë°”ì´íŠ¸ê°€ ì €ì¥ë  ìˆ˜ ìˆëŠ” â€˜ë°”ì´íŠ¸ ë²„í¼â€™

ë°”ì´íŠ¸ ë²„í¼ë€? ìš´ì˜ì²´ì œì˜ ì»¤ë„ì´ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°ì´í„°ì˜ ì €ì¥, ë¡œë“œê°€ ê°€ëŠ¥í•˜ë‹¤.

â€¢ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ jsonë°ì´í„°ë¥¼ structí˜•ìœ¼ë¡œ ë³€ê²½í•˜ê±°ë‚˜, ë°˜ëŒ€ë¡œ structí˜•ì—ì„œ jsonìœ¼ë¡œ ë³€ê²½í•  ë•Œ ë¨¼ì € `Data`í˜•ìœ¼ë¡œ ë³€ê²½í•œ ë‹¤ìŒ ì›í•˜ëŠ” ë°ì´í„°í˜•ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì‚¬ìš©

## JSON

keyì™€ valueë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ” ë°ì´í„°, valueëŠ” ëª¨ë“  íƒ€ì…ì„ í—ˆìš©í•œë‹¤.

## Encoding

swiftì˜ ë°ì´í„° ëª¨ë¸ì„ JSONê³¼ ê°™ì€ íŒŒì¼ í¬ë§·ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ë‹¤.

ì™¸ë¶€ APIì— ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•Œ ì‚¬ìš©í•œë‹¤.

## Decoding

JSON ë°ì´í„°ë¥¼ swiftì˜ ë°ì´í„° êµ¬ì¡°ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •

ì™¸ë¶€ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ì„œ ì•±ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë³€í™˜í•  ë•Œ ì‚¬ìš©

## Codable

`typealias Codable = Decodable & Encodable`

Codable íƒ€ì…ì„ ì¤€ìˆ˜í•˜ëŠ” ë°ì´í„°ëŠ”  ë””ì½”ë”©, ì¸ì½”ë”©í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

Foundationì˜ ê¸°ëŠ¥ìœ¼ë¡œ íŒŒì¼ ë°ì´í„° ê´€ë¦¬ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì— JSONDecoder()ê°€ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

ğŸ¤”Â import Foundationì´ ì—†ëŠ”ë° ì™œ ê°€ëŠ¥í•˜ì§€ ??? 

UIkitì„ importí•˜ë©´ ìë™ìœ¼ë¡œ Foundationì´ importëœë‹¤.

1. JSON ë°ì´í„°ë¥¼ ë””ì½”ë”©í•˜ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°

```swift
func jsonDecoder(_ data: String) -> ë°ì´í„°ëª¨ë¸? {
    var decoder = JSONDecoder()
    guard let jsonData = data.data(using: .utf8) else { return nil } // UTF-8ì¸ì½”ë”©ì„ ì‚¬ìš©í•˜ì—¬ Dataíƒ€ì…ìœ¼ë¡œ ë³€í™˜
    
    do {
        let decoded: ë°ì´í„°ëª¨ë¸ = try decoder.decode(ë°ì´í„°ëª¨ë¸.self, from: jsonData)
        return decoded
    } catch {
        print("decoding error: \(error)")
        return nil
    }
}
```

`decode(_:from:)` ëŠ” ì²«ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ë””ì½”ë”©í•  íƒ€ì…ì„ ì „ë‹¬í•˜ê³ , ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ë””ì½”ë”©í•  ë°ì´í„°ê°€ ì „ë‹¬ëœë‹¤.
